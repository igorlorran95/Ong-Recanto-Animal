document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("form-cadastro");if(!e)return;const t=[{input:document.getElementById("cpf"),message:"O CPF deve ter o formato 000.000.000-00 e ser vÃ¡lido.",validator:function(e){return!!/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(e)&&(11===(e=e.replace(/[^\d]/g,"")).length&&!/^(\d)\1{10}$/.test(e))}},{input:document.getElementById("telefone"),message:"O Telefone deve ter o formato (XX) 9XXXX-XXXX.",validator:function(e){return/^\(\d{2}\)\s\d{5}-\d{4}$/.test(e)}}];function r(e,t,r){let n=e.nextElementSibling;if(r)return n&&n.classList.contains("form-error-message")&&n.remove(),void(e.style.borderColor="");n&&n.classList.contains("form-error-message")||(n=document.createElement("div"),n.className="form-error-message",e.parentNode.insertBefore(n,e.nextSibling),e.style.borderColor="var(--color-error)"),n.textContent=t}t.forEach((e=>{e.input.addEventListener("blur",(()=>{if(""===e.input.value.trim())return;const t=e.validator(e.input.value);r(e.input,e.message,t)})),e.input.addEventListener("input",(()=>{if("var(--color-error)"===e.input.style.borderColor){e.validator(e.input.value)&&r(e.input,e.message,!0)}}))})),e.addEventListener("submit",(e=>{let n=!0;t.forEach((e=>{const t=e.validator(e.input.value);r(e.input,e.message,t),t||(n=!1)})),n||(e.preventDefault(),alert("Por favor, corrija os dados destacados antes de enviar."))}))}));